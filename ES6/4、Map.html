<!Doctype html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Map数据结构</title>
    </head>
    <body>
        <script>
            const data = {};
            const element = document.getElementById('myDiv');

            data[element] = 'metadata';
            data['[object HTMLDivElement]'] // "metadata"   原意是将一个 DOM 节点作为对象data的键，但是由于对象只接受字符串作为键名，所以element被自动转为字符串[object HTMLDivElement]
//          为了解决以上问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了“字符串—值”的对应，Map 结构提供了“值—值”的对应

            const m = new Map();
            const o = {p: 'Hello World'};

            m.set(o, 'content')
            m.get(o) // "content"

            m.has(o) // true
            m.delete(o) // true
            m.has(o) // false



//          向 Map 添加成员
//          作为构造函数，Map 也可以接受一个数组作为参数。该数组的成员是一个个表示键值对的数组。
            const map = new Map([
                ['name', '张三'],
                ['title', 'Author']
            ]);

            map.size // 2
            map.has('name') // true
            map.get('name') // "张三"
            map.has('title') // true
            map.get('title') // "Author"


//          Map的键跟内存地址绑定的，只要内存地址不一样，就视为2个键
            const map1 = new Map();

            const k1 = ['a'];
            const k2 = ['a'];

            map1
                .set(k1, 111)
                .set(k2, 222);

            map1.get(k1)  // 111
            map1.get(k2)  // 222
        </script>
    </body>
</html>