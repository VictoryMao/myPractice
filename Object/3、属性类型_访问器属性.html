<html !Doctype>
<head>
    <meta charset="utf-8"/>
    <title>属性类型</title>
</head>
<body>
<script>
    //            ECMAScript中有2种属性：数据属性和访问器属性
    //            1、访问器属性的4个特性
    //            [[Configurable]]: 表示能否通过delete 删除属性从而重新定义属性，能否把属性修改为数据属性。 该特性默认值为true
    //            [[Enumerable]]: 表示能否通过for-in循环返回属性。默认值为true
    //            [[Get]]: 在读取属性时调用的函数，默认值为undefined
    //            [[Set]]: 在写入属性时调用的函数，默认值为undefiend

//     访问器属性和数据属性的区别：
//     1、只有访问器属性有get和set特性，只有数据属性有writable和value特性，
//     2、访问器属性只能通过Object.defineProperty()方法来定义，而数据属性可以直接在对象上定义。

//     访问器属性和数据属性的共同点:
//     1、都有4个特性,且4个特性里都包含configurable和enumerable特性

      var book = {
          _year: 2004,
          edition: 1
      }
      Object.defineProperty(book, 'year', {      //   不一定非要同时指定
          get: function () {
              console.log('你访问了访问器属性year')
              return this._year
          },
          set: function (newValue) {
              console.log('你修改了访问器属性year')
              if (newValue > 2004) {
                  this._year = newValue
                  this.edition += newValue - 2004       //    访问器属性的常见方式，即设置一个属性的值会导致其他属性发生变化。
              }
          }
      })
      console.log(book)
//      console.log(book._year)
//      console.log(book.year)
//      book.year = 2013

//    IE8 是第一个实现Object.defineProperty()方法的浏览器版本，然而，这个版本的实现存在诸多限制： 只能在DOM对象上使用，而且只能创造访问器属性

</script>
</body>
</html>